{"version":3,"sources":["components/Dialogs/dialogs.module.css","components/Dialogs/DialogItem/dialogItem.module.css","components/Dialogs/Message/messages.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Messages.jsx","components/Dialogs/Dialogs.jsx","hoc/WithAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","styles","dialogsItem","to","activeClassName","activeLink","name","Messages","messagesItem","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","newMessageBlock","Field","component","InputLogin","validate","required","placeholder","sendNewMessageBtn","Dialogs","state","dialogPage","dialogsElements","dialogs","map","dialog","messageElements","messages","isAuth","dialogsList","messagesBlock","values","sendMessage","newMessageBody","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,gBAAkB,iCAAiC,kBAAoB,mCAAmC,QAAU,yBAAyB,YAAc,6BAA6B,SAAW,0BAA0B,eAAiB,gCAAgC,cAAgB,iC,oBCAhTD,EAAOC,QAAU,CAAC,YAAc,gCAAgC,WAAa,iC,oBCA7ED,EAAOC,QAAU,CAAC,aAAe,iC,wHCYlBC,EATI,SAACC,GAClB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACE,oBAAIC,UAAWC,IAAOC,YAAtB,SACE,cAAC,IAAD,CAASC,GAAIL,EAAMM,gBAAiBH,IAAOI,WAA3C,SAAwDR,EAAMS,U,kBCCrDC,EANE,SAACV,GAChB,OACE,oBAAIG,UAAWC,IAAOO,aAAtB,SAAqCX,EAAMY,W,yCCmCzCC,EAAcC,YAAiB,IAe/BC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAbL,SAAChB,GACtB,OACE,uBAAMkB,SAAUlB,EAAMmB,aAAchB,UAAWC,IAAOgB,gBAAtD,UACE,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAUZ,GACrBJ,KAAK,iBACLiB,YAAY,uBACnB,wBAAQvB,UAAWC,IAAOuB,kBAA1B,wBAQSC,EAhDC,SAAC5B,GACf,IAAI6B,EAAQ7B,EAAM8B,WACdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GACtC,OAAO,cAAC,EAAD,CAAYzB,KAAMyB,EAAOzB,KAAsBP,GAAIgC,EAAOhC,IAAtBgC,EAAOhC,OAGhDiC,EAAkBN,EAAMO,SAASH,KAAI,SAAArB,GACvC,OAAO,cAAC,EAAD,CAA2BA,QAASA,EAAQA,SAA7BA,EAAQV,OAOhC,OAAKF,EAAMqC,OAGT,sBAAKlC,UAAWC,IAAO4B,QAAvB,UACE,oBAAI7B,UAAWC,IAAOkC,YAAtB,SACGP,IAEH,sBAAK5B,UAAWC,IAAOmC,cAAvB,UACE,oBAAIpC,UAAWC,IAAOgC,SAAtB,SACGD,IAEH,cAACpB,EAAD,CAAqBG,SAfP,SAACsB,GACnBxC,EAAMyC,YAAYD,EAAOE,yBAGD,cAAC,IAAD,CAAUpC,GAAI,Y,+CCnBpCqC,EAA6B,SAACd,GAAD,MAAY,CAC7CQ,OAAQR,EAAMe,KAAKP,S,QCeNQ,sBACbC,aAfoB,SAACjB,GACrB,MAAO,CACLC,WAAYD,EAAMC,eAIE,SAACiB,GACvB,MAAO,CACLN,YAAa,SAACC,GACbK,EAASC,YAAmBN,UDPD,SAACO,GAAe,IACxCC,EADuC,4JAE3C,WACE,OAAKC,KAAKnD,MAAMqC,OACT,cAACY,EAAD,eAAgBE,KAAKnD,QADG,cAAC,IAAD,CAAUM,GAAI,eAHJ,GACb8C,IAAMH,WAOtC,OAAOH,YAAQH,EAARG,CAAoCI,KCI9BL,CAEKjB","file":"static/js/4.62b7e848.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"newMessageBlock\":\"dialogs_newMessageBlock__Xg9AK\",\"sendNewMessageBtn\":\"dialogs_sendNewMessageBtn__36ifu\",\"dialogs\":\"dialogs_dialogs__H6fTw\",\"dialogsList\":\"dialogs_dialogsList__3z4Sm\",\"messages\":\"dialogs_messages__3IM7F\",\"newMessageText\":\"dialogs_newMessageText__lNBpO\",\"messagesBlock\":\"dialogs_messagesBlock__37xqL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItem\":\"dialogItem_dialogsItem__n8Emj\",\"activeLink\":\"dialogItem_activeLink__fbcsy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesItem\":\"messages_messagesItem__zDDc7\"};","import React from 'react';\r\nimport styles from \"./dialogItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  let path = '/dialogs/' + props.id;\r\n  return (\r\n    <li className={styles.dialogsItem}>\r\n      <NavLink to={path} activeClassName={styles.activeLink}>{props.name}</NavLink>\r\n    </li>\r\n  )\r\n};\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport styles from \"./messages.module.css\";\r\n\r\nconst Messages = (props) => {\r\n  return (\r\n    <li className={styles.messagesItem}>{props.message}</li>\r\n  )\r\n};\r\n\r\nexport default Messages;","import React from 'react';\r\nimport styles from './dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Messages from \"./Message/Messages\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {InputLogin} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst Dialogs = (props) => {\r\n  let state = props.dialogPage;\r\n  let dialogsElements = state.dialogs.map(dialog => {\r\n    return <DialogItem name={dialog.name} key={dialog.id} id={dialog.id}/>\r\n  });\r\n\r\n  let messageElements = state.messages.map(message => {\r\n    return <Messages key={message.id} message={message.message}/>\r\n  });\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessage(values.newMessageBody)\r\n  };\r\n\r\n  if (!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n  return (\r\n    <div className={styles.dialogs}>\r\n      <ul className={styles.dialogsList}>\r\n        {dialogsElements}\r\n      </ul>\r\n      <div className={styles.messagesBlock}>\r\n        <ul className={styles.messages}>\r\n          {messageElements}\r\n        </ul>\r\n        <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={styles.newMessageBlock}>\r\n      <Field component={InputLogin}\r\n             validate={[required, maxLength50]}\r\n             name=\"newMessageBody\"\r\n             placeholder=\"Enter your message\"/>\r\n      <button className={styles.sendNewMessageBtn}>Send\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm);\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n      return <Component  {...this.props} />\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};","import {sendMessageCreator} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogPage: state.dialogPage,\r\n  }\r\n};\r\n\r\nlet mapDispatchToProps= (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n     dispatch(sendMessageCreator(newMessageBody));\r\n    },\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect)(Dialogs);"],"sourceRoot":""}